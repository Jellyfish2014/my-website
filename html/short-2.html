<!DOCTYPE html>
<html lang="zh-Hant">                                            
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>全螢幕播放影片</title>
  <!-- <link rel="stylesheet" href="../css/short.css">
  <script src="../js/short.js" defer></script>  -->
</head>

<body>
  <!-- <video  id="myVideo" width="100%" height="100%" controls muted autoplay> -->
  <video  id="myVideo" height=680 style="display: block; margin: 0 auto;" 
          controls muted autoplay>  
    <source src="../../my-website/assets/video/002.讀懂莊子裡的這這七種思維.mp4" type="video/mp4">
      您的瀏覽器不支援 video 標籤
  </video>

<script>
window.addEventListener('load', () => {
  const video = document.getElementById('myVideo');

  // 嘗試播放影片
  video.play().then(() => {
    // 播放成功後請求全螢幕
    if (video.requestFullscreen) {
      video.requestFullscreen();
    } else if (video.webkitRequestFullscreen) {
      video.webkitRequestFullscreen(); // Safari
    } else if (video.msRequestFullscreen) {
      video.msRequestFullscreen(); // IE/Edge
    }
  }).catch(error => {
    console.error("播放失敗：", error);
  });

  video.muted = false;              // 打開聲音
  video.style.display = "block";    // 顯示影片

  // 監聽影片播放結束事件
  video.addEventListener('ended', () => {
    // 離開全螢幕
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen(); // Safari
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen(); // IE/Edge
    }

    // 回到上一頁
    window.history.back();

    // // 等待全螢幕退出後再回上一頁（延遲一點點時間）
    // setTimeout(() => {
    //   window.history.back();
    // }, 500); // 0.5 秒後回上一頁
  });
});
</script>

</body>
</html>